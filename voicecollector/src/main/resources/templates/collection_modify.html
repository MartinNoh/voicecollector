<html layout:decorate="~{layout}">

<div layout:fragment="content" class="container">

	<!-- subtitle & the number of cases-->
	<div class="row" id="subtitle">
		<div class="col-lg-12 col-md-12">
			<h2>재녹음 작업</h2>
		</div>
	</div>
	<!-- subtitle & the number of cases END-->

	<!-- contents -->
	<div class="row" id="contents">
		<div class="col-lg-12">

			<!-- script sentence -->
			<div>
				<p>대본 문장</p>
				<h4 id="scriptSentence" th:if="${#strings.equals(collectionId, '0')}" th:text="${script}" style="color: blue; font-weight: bold"></h4>
				<h4 id="scriptSentence" th:if="!${#strings.equals(collectionId, '0')}" th:text="${script}"></h4>
				<input type="hidden" id="collectionId" th:value="${collectionId}"/>
				<input type="hidden" id="base64Data" th:value="${base64Data}"/>
				<input type="hidden" id="kw" name="kw" th:value="${kw}">
				<input type="hidden" id="page" name="page" th:value="${page}">
				<input type="hidden" id="category" name="category" th:value="${category}">
			</div>

			<div>
				<p>오디오 컨트롤러</p>

				<!-- audio visualizer -->
				<canvas id="audioVisualizer"></canvas>

				<!-- audio controller -->
				<div id="audioController">
					<button type="button" id="recordBtn"
						class="btn btn-outline-danger">●</button>
					<button type="button" id="stopBtn" class="btn btn-outline-dark" style="display: none;" disabled>■</button>
					<button type="button" id="playBtn" class="btn btn-outline-dark" style="display: block;">▶</button>
					<button type="button" id="nextBtn" class="btn btn-outline-primary" disabled>NEXT</button>
					<button type="button" id="listBtn" class="btn btn-outline-success" onclick="location.href='/collection/list'">목록으로</button>
				</div>

				<div id="soundClips"></div>
			</div>

		</div>
	</div>
	<!-- contents END-->
</div>


<script layout:fragment="script" type='text/javascript' th:src="@{/js/modify.js}"></script>